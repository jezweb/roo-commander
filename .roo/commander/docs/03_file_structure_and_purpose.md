# Roo Commander V8.1: File Structure & Purpose

This document outlines the lean and optimized file structure for Roo Commander V8.1, explaining the purpose and content of each key directory and file. This structure is designed for clarity, maintainability, and efficient integration with Roo Code.

## Project Root (`/`)

*   `.roomodes`: The single YAML file containing the definitions for all custom modes (Orchestrator, Managers, Squad Members). This file is generated by a build script that combines individual mode YAMLs.
*   `.mdtm/`: **NEW** This directory stores all Markdown-Driven Task Management (MDTM) files created and managed by Roo Commander modes.

## `.roo/` Directory

This is the root for all Roo Code-related configurations and Roo Commander components.

*   `rules/`:
    *   **Purpose:** Contains universal, project-wide rules and standards that apply to *all* Roo Code modes (default and custom).
    *   **Content:** High-level, fundamental principles like TOML+MD format standards, MDTM task standards, and session management standards.
    *   **Example Files:**
        *   `01-standard-toml-md-format.md`
        *   `02-mdtm-task-standard.md`
        *   `03-session-management-standard.md`
    *   **Principle:** Keep this folder lean and focused on truly universal rules to avoid context flooding.

*   `rules-[mode_slug]/` (e.g., `rules-roo-commander/`, `rules-project-manager/`, `rules-task-planner/`):
    *   **Purpose:** Contains mode-specific rules and context that are *pre-loaded* by Roo Code whenever that particular mode is active. This is where the mode's fundamental operational principles reside.
    *   **Content:**
        *   `00-[mode_slug]-core-principles.md`: Defines the mode's core operational tenets and its strategy for using its `kb/`.
        *   `kb/`: **This is the new location for the mode's Knowledge Base.**
            *   **Purpose:** Contains detailed, mode-specific knowledge, procedures, examples, and reference material that the AI retrieves *on demand* using its file-reading tools.
            *   **Content:** Markdown files organized into subdirectories like `procedures/`, `prompts/`, `reference/`, `examples/`, `skills/`, `wisdom/`.
            *   **Principle:** The AI is instructed (via its `roleDefinition` or `customInstructions`) to dynamically access and interpret this content from its `kb/` folder, often using a `README.md` as an index.
    *   **Principle:** This folder provides essential, always-relevant context for a specific mode without being loaded for all modes.

*   `commander/`:
    *   **Purpose:** The main directory for Roo Commander's internal components, including individual mode definitions and documentation. This folder is primarily for *authoring* and *organization* within the Roo Commander project.
    *   **Content:**
        *   `docs/`:
            *   **Purpose:** Contains the core documentation for Roo Commander itself.
            *   **Content:** Markdown files explaining the system's overview, architecture, file structure, Roo Code integration, and mode development guides.
        *   `modes/`:
            *   **Purpose:** Contains the individual YAML definition files for each custom mode. These files are then combined by a build script into the single `.roomodes` file.
            *   **Content:** `[mode_slug].yaml` files (e.g., `roo-commander.yaml`, `project-manager.yaml`, `task-planner.yaml`).
            *   **Principle:** Each YAML file defines the mode's core identity, persona, and basic operational directive.
        *   `scripts/`:
            *   **Purpose:** Contains utility scripts for building and managing the Roo Commander project.
            *   **Content:**
                *   `combine_mode_yamls.js`: Script to combine individual mode YAMLs into `.roomodes`.
                *   Other build or maintenance scripts.
        *   `templates/`:
            *   **Purpose:** Contains templates for various documents and artifacts used within the Roo Commander ecosystem.
            *   **Content:** Organized into a single level of folders (e.g., `tasks/`, `sessions/`, `note/`, `summary/`, `learning/`).
            *   **Principle:** Provides standardized formats for MDTM tasks, session logs, and key session artifacts.

## Example Mode Structure (`.roo/rules-[mode_slug]/`)

For a mode like `project-manager`, its structure would look like this after deployment:

```
.roo/
├── rules/
│   ├── 01-standard-toml-md-format.md
│   ├── 02-mdtm-task-standard.md
│   └── 03-session-management-standard.md
├── rules-project-manager/
│   ├── 00-project-manager-core-principles.md
│   └── kb/
│       ├── README.md
│       ├── procedures/
│       │   └── main-orchestration-flow.md
│       ├── reference/
│       │   └── squad-composition.md
│       └── skills/
│           └── task-breakdown-techniques.md
├── rules-task-planner/
│   ├── 00-task-planner-core-principles.md
│   └── kb/
│       ├── README.md
│       └── skills/
│           └── effective-planning.md
├── commander/
│   ├── docs/
│   │   ├── 01_overview.md
│   │   └── ...
│   ├── modes/
│   │   ├── roo-commander.yaml
│   │   ├── project-manager.yaml
│   │   ├── task-planner.yaml
│   │   └── task-executor.yaml
│   └── scripts/
│       └── combine_mode_yamls.js
└── .roomodes (generated by combine_mode_yamls.js)
```
